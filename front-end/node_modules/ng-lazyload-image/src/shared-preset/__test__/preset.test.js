import { is } from '@tjoskar/assert';
import { sharedPreset } from '../preset';
describe('Setup', function () {
    it('Should set default image if defined', function () {
        var element = {
            nodeName: {
                toLowerCase: function () { return 'img'; }
            },
            src: ''
        };
        var defaultImagePath = 'https://some-path/image.jpg';
        var useSrcset = false;
        var attribute = {
            element: element,
            defaultImagePath: defaultImagePath,
            useSrcset: useSrcset
        };
        sharedPreset.setup(attribute);
        is(element.src, defaultImagePath);
    });
    it('Should not set default image if not defined', function () {
        var element = {
            nodeName: {
                toLowerCase: function () { return 'img'; }
            },
            src: ''
        };
        var defaultImagePath = undefined;
        var useSrcset = false;
        var attribute = {
            element: element,
            defaultImagePath: defaultImagePath,
            useSrcset: useSrcset
        };
        sharedPreset.setup(attribute);
        is(element.src, '');
    });
    it('Should use srcset instead of src if useSrcset is true', function () {
        var element = {
            nodeName: {
                toLowerCase: function () { return 'img'; }
            },
            src: '',
            srcset: ''
        };
        var defaultImagePath = 'https://some-path/image.jpg';
        var useSrcset = true;
        var attribute = {
            element: element,
            defaultImagePath: defaultImagePath,
            useSrcset: useSrcset
        };
        sharedPreset.setup(attribute);
        is(element.src, '');
        is(element.srcset, defaultImagePath);
    });
    it('Should set default image for img and all picture source elements', function () {
        var imagePath1 = 'https://some-path/image1.jpg';
        var imagePath2 = 'https://some-path/image2.jpg';
        var imagePath3 = 'https://some-path/image3.jpg';
        var picture = document.createElement('picture');
        var source1 = document.createElement('source');
        var source2 = document.createElement('source');
        var img = document.createElement('img');
        source1.setAttribute('defaultImage', imagePath2);
        source2.setAttribute('defaultImage', imagePath3);
        picture.appendChild(source1);
        picture.appendChild(source2);
        picture.appendChild(img);
        var attribute = {
            element: img,
            defaultImagePath: imagePath1,
            useSrcset: false
        };
        sharedPreset.setup(attribute);
        is(img.src, imagePath1);
        is(source1.srcset, imagePath2);
        is(source2.srcset, imagePath3);
    });
});
//# sourceMappingURL=preset.test.js.map